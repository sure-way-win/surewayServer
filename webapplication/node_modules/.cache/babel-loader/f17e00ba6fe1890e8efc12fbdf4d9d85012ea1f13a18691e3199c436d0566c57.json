{"ast":null,"code":"import React,{useEffect,useState,useRef,memo}from\"react\";import{Route}from\"react-router-dom\";//import { gettVehicleSnap } from \"../services/snapService\";\nimport{gettingPickupaddresses}from\"../services/busService\";import{triggerSnap}from\"../services/snapService\";import io from\"socket.io-client\";import{APIProvider,Map,useMapsLibrary,useMap,Marker}from\"@vis.gl/react-google-maps\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const SocketClient=props=>{var _messages,_messages2,_messages3,_messages4;const{bus}=props.location.state||{};// Add default value for destructuring\nconst[messages,setMessages]=useState([]);useEffect(()=>{// Replace 'http://localhost:3001' with the URL where your Socket.IO server is running\nconst socket=io(\"http://13.51.79.199:3001\");// Event handler for receiving messages from the server\nsocket.on(bus===null||bus===void 0?void 0:bus.ThingName,message=>{//console.log(\"Received message from server:\", message);\nsetMessages(prevMessages=>[...prevMessages,message]);});// Event handler for connecting to the Socket.IO server\nsocket.on(\"connect\",()=>{console.log(\"Connected to Socket.IO server\");});// Event handler for potential errors\nsocket.on(\"error\",error=>{console.error(\"Socket.IO error:\",error);// Handle the error as needed\n});// Cleanup on component unmount\nreturn()=>{console.log(\"Disconnecting from Socket.IO server\");socket.disconnect();};},[]);// Empty dependency array ensures that the effect runs only once\n// Log the current state of messages whenever it changes\nuseEffect(()=>{//console.log(\"Current messages state:\", messages);\n},[messages]);//export default function LocationTracking() {\nconst cent={lat:7.291418,lng:80.636696};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{height:\"80vh\",marginLeft:\"30px\",marginRight:\"30px\"},children:/*#__PURE__*/_jsxs(APIProvider,{apiKey:\"AIzaSyD3iZ52fsbEPy64MJPTVxJLlePde16xAMc\",children:[/*#__PURE__*/_jsxs(Map,{center:cent,zoom:12,mapId:\"5e1c67490bdc79a3\",fullscreenControl:false//provideRouteAlternatives={true}\n,children:[messages.map((message,index)=>/*#__PURE__*/_jsx(DynamicMarker,{position:{lat:message===null||message===void 0?void 0:message.latitude,lng:message===null||message===void 0?void 0:message.longitude}},index)),/*#__PURE__*/_jsx(\"div\",{className:\"card\",style:{margin:\"30px\",marginTop:\"60px\",marginLeft:\"10px\",cornerRadius:\"0\",padding:\"15px\",borderRadius:\"0px\",height:\"60px\",width:\"300px\",border:\"none\",boxShadow:\"0px 0px 10px rgba(0, 0, 0, 0.1)\",backgroundColor:\"#ffffff\",transition:\"transform 0.2s, background-color 0.2s\",fontWeight:\"bold\"},children:/*#__PURE__*/_jsxs(\"h1\",{style:{fontSize:\"20px\"},children:[\"Current Speed:\",\" \",/*#__PURE__*/_jsxs(\"p1\",{children:[(_messages=messages[messages.length-1])===null||_messages===void 0?void 0:_messages.speed,\" m/s\"]})]})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Directions,{endAddress:bus===null||bus===void 0?void 0:bus.SchoolAddress,bus:bus})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{margin:\"30px\",marginTop:\"30px\",padding:\"15px\",borderRadius:\"10px\",height:\"155px\",width:\"350px\",border:\"none\",boxShadow:\"0px 0px 10px rgba(0, 0, 0, 0.1)\",backgroundColor:\"#ffffff\",transition:\"transform 0.2s, background-color 0.2s\",fontWeight:\"bold\"},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"POSITION\"}),/*#__PURE__*/_jsxs(\"p1\",{children:[\"Position X: \",(_messages2=messages[messages.length-1])===null||_messages2===void 0?void 0:_messages2.angularX]}),/*#__PURE__*/_jsxs(\"p1\",{children:[\"Position Y: \",(_messages3=messages[messages.length-1])===null||_messages3===void 0?void 0:_messages3.angularY]}),/*#__PURE__*/_jsxs(\"p1\",{children:[\"Position Z: \",(_messages4=messages[messages.length-1])===null||_messages4===void 0?void 0:_messages4.angularZ]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-warning\",onClick:()=>triggerSnap({thingName:bus===null||bus===void 0?void 0:bus.ThingName}),style:{marginLeft:\"30px\",marginTop:\"0px\",width:\"150px\"},children:\"Snap\"}),/*#__PURE__*/_jsx(Route,{to:\"/vehicleSnap\",render:props=>/*#__PURE__*/_jsx(\"a\",{href:\"/vehicleSnap\",className:\"btn btn-warning\",onClick:()=>props.history.push(\"/vehicleSnap\",{bus}),style:{marginLeft:\"30px\",marginTop:\"0px\",width:\"150px\"},children:\"See Last Snap\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Received AWS IoT Messages:\"}),/*#__PURE__*/_jsx(\"ul\",{children:messages.map((message,index)=>/*#__PURE__*/_jsx(\"li\",{children:JSON.stringify(message)},index))})]})]});};//};\nfunction Directions(_ref){let{endAddress,bus}=_ref;const map=useMap();let distance=0;let duration=0;const[waypoints,setWaypoints]=useState([]);const routesLibrary=useMapsLibrary(\"routes\");const[directionService,setDirectionService]=useState();const[directionsRenderer,setDirectionsRenderer]=useState();const[routes,setRoutes]=useState([]);const[routeIndex,setRouteIndex]=useState(0);const selected=routes[routeIndex];const leg=selected===null||selected===void 0?void 0:selected.legs[0];//const pickUpAddresses = gettingPickupaddresses({ vehicleID: bus?.vehicleID });\n//console.log(\"Selected legs are\", selected?.legs);\nconsole.log(\"Routes are\",routes);useEffect(()=>{if(!map||!routesLibrary)return;setDirectionService(new routesLibrary.DirectionsService());setDirectionsRenderer(new routesLibrary.DirectionsRenderer({map}));},[map,routesLibrary]);useEffect(()=>{// Fetch pickup addresses when the component mounts or when bus.vehicleID changes\ngettingPickupaddresses({vehicleID:bus===null||bus===void 0?void 0:bus.vehicleID}).then(addresses=>{console.log(\"pickup addresses are\",addresses);const waypoints=addresses===null||addresses===void 0?void 0:addresses.data.gettingPickupAddress.map(address=>({location:address.pickupAddress,stopover:true}));setWaypoints(waypoints);//console.log(\"waypoints are\", waypoints);\n}).catch(error=>{console.error(\"Error fetching pickup addresses:\",error);});},[bus===null||bus===void 0?void 0:bus.vehicleID]);useEffect(()=>{if(!directionService||!directionsRenderer)return;const start={location:\"University of Peradeniya, Prof. E. O. E. Pereira Mawatha, Kandy\",stopover:true};const end={location:endAddress,stopover:true};// //{ location: \"31, Colombo Road, Piliyandala 10300\", stopover: true }, // Origin\n// {\n//   location: \"Kingswood College, Randles Hill, Peradeniya Rd, Kandy 20000\",\n//   stopover: true,\n// }, // Second destination\n// {\n//   location: \"Sangaraja Mawatha, Kandy\",\n//   stopover: true,\n// }, // Second destination\n// { location: \"DS Senanayake Veediya, Kandy 20000\", stopover: true },\n// //{ location: \"Maradana Rd, Colombo 01000\", stopover: true }, // First destination\n// // Add more waypoints with stopover: true for each\n// let waypoints = [];\n// for (let i = 0; i < pickUpAddresses?.length; i++) {\n//   waypoints[i] = {\n//     location: pickUpAddresses[i]?.pickupAddress,\n//     stopover: true,\n//   };\n// }\nconsole.log(\"waypoints are\",waypoints);directionService.route({origin:start.location,destination:end.location,waypoints:waypoints.map(waypoint=>({location:waypoint.location,stopover:waypoint.stopover})),// Exclude origin and destination from waypoints array\ntravelMode:\"DRIVING\",//provideRouteAlternatives: true,\noptimizeWaypoints:true}).then(Response=>{directionsRenderer.setDirections(Response);//console.log(\"response is\", Response);\nsetRoutes(Response.routes);});},[directionService,directionsRenderer,endAddress,waypoints]);//console.log(\"directionService\", directionService);\n//console.log(\"selected route is\", routes.selected);\nif(!leg)return null;{selected===null||selected===void 0?void 0:selected.legs.map(leg=>distance+=leg.distance.value);}{selected===null||selected===void 0?void 0:selected.legs.map(leg=>duration+=leg.duration.value);}const formattedDistance=(distance/1000).toFixed(1);const formattedDuration=(duration/60).toFixed(0);return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{margin:\"30px\",marginTop:\"30px\",marginLeft:\"390px\",marginRight:\"30px\",padding:\"15px\",borderRadius:\"10px\",height:\"155px\",width:\"875px\",border:\"none\",boxShadow:\"0px 0px 10px rgba(0, 0, 0, 0.1)\",backgroundColor:\"#ffffff\",transition:\"transform 0.2s, background-color 0.2s\",fontWeight:\"bold\",color:\"#000000\"},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Directions\"}),/*#__PURE__*/_jsxs(\"p1\",{children:[\"Distance: \",formattedDistance,\" KM\"]}),/*#__PURE__*/_jsxs(\"p1\",{children:[\"Duration: \",formattedDuration,\" mins\"]})]});//return [leg.distance.text, leg.duration.text];\n}// const DynamicMarker = ({ position }) => {\n//   const map = useMap();\n//   const markerRef = useRef(null);\n//   useEffect(() => {\n//     if (!map || !position) return;\n//     // Create marker if it doesn't exist\n//     if (!markerRef.current) {\n//       markerRef.current = new window.google.maps.Marker({\n//         position,\n//         map,\n//       });\n//     } else {\n//       // Update marker position if it exists\n//       markerRef.current.setPosition(position);\n//     }\n//     return () => {\n//       // Cleanup marker on unmount\n//       markerRef.current.setMap(null);\n//     };\n//   }, [map, position]);\n//   return null; // No need to render anything for the marker\n// };\n// const DynamicMarker = memo(({ position }) => {\n//   // Memoize the DynamicMarker component\n//   const map = useMap();\n//   const markerRef = useRef(null);\n//   useEffect(() => {\n//     if (!map || !position) return;\n//     // Create marker if it doesn't exist or update position\n//     if (!markerRef.current) {\n//       markerRef.current = new window.google.maps.Marker({\n//         position,\n//         map,\n//       });\n//     } else {\n//       markerRef.current.setPosition(position);\n//     }\n//     return () => {\n//       // Cleanup marker on unmount\n//       markerRef.current.setMap(null);\n//     };\n//   }, [map, position]); // Only re-run effect if map or position changes\n//   return null; // No need to render anything for the marker\n// });\nconst DynamicMarker=/*#__PURE__*/memo(_ref2=>{let{position}=_ref2;const map=useMap();const markerRef=useRef(null);useEffect(()=>{if(!map||!position)return;if(!markerRef.current){markerRef.current=new window.google.maps.Marker({position,map});}else{// Animate marker to new position\nanimateMarker(markerRef.current,position);}return()=>{markerRef.current.setMap(null);};},[map,position]);const animateMarker=(marker,newPosition)=>{const start=marker.getPosition();const end=new window.google.maps.LatLng(newPosition.lat,newPosition.lng);let t=0;const duration=1000;// Animation duration in milliseconds\nconst animate=()=>{if(t<duration){const lat=start.lat()+(end.lat()-start.lat())*t/duration;const lng=start.lng()+(end.lng()-start.lng())*t/duration;const newPos=new window.google.maps.LatLng(lat,lng);marker.setPosition(newPos);t+=16;// 60 frames per second\nrequestAnimationFrame(animate);}else{marker.setPosition(end);}};animate();};return null;});// const AnimatedMarker = ({ positions }) => {\n//   const map = useMap();\n//   const markerRef = useRef(null);\n//   useEffect(() => {\n//     if (!map || !positions || positions.length === 0) return;\n//     const lat = positions[positions.length - 1].latitude;\n//     const lng = positions[positions.length - 1].longitude;\n//     const lastPosition = { lat, lng };\n//     if (!markerRef.current) {\n//       markerRef.current = new window.L.Marker(lastPosition).addTo(map);\n//     } else {\n//       animateMarker(markerRef?.current, lastPosition);\n//     }\n//     return () => {\n//       markerRef.current.remove();\n//     };\n//   }, [map, positions]);\n//   const animateMarker = (marker, newPosition) => {\n//     const start = marker.getLatLng();\n//     const end = new window.L.LatLng(newPosition.lat, newPosition.lng);\n//     let t = 0;\n//     const duration = 1000; // Animation duration in milliseconds\n//     const animate = () => {\n//       if (t < duration) {\n//         const lat = start.lat + ((end.lat - start.lat) * t) / duration;\n//         const lng = start.lng + ((end.lng - start.lng) * t) / duration;\n//         const newPos = new window.L.LatLng(lat, lng);\n//         marker.setLatLng(newPos);\n//         t += 16; // 60 frames per second\n//         requestAnimationFrame(animate);\n//       } else {\n//         marker.setLatLng(end);\n//       }\n//     };\n//     animate();\n//   };\n//   return null;\n// };\nexport default SocketClient;","map":{"version":3,"names":["React","useEffect","useState","useRef","memo","Route","gettingPickupaddresses","triggerSnap","io","APIProvider","Map","useMapsLibrary","useMap","Marker","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SocketClient","props","_messages","_messages2","_messages3","_messages4","bus","location","state","messages","setMessages","socket","on","ThingName","message","prevMessages","console","log","error","disconnect","cent","lat","lng","children","style","height","marginLeft","marginRight","apiKey","center","zoom","mapId","fullscreenControl","map","index","DynamicMarker","position","latitude","longitude","className","margin","marginTop","cornerRadius","padding","borderRadius","width","border","boxShadow","backgroundColor","transition","fontWeight","fontSize","length","speed","Directions","endAddress","SchoolAddress","angularX","angularY","angularZ","type","class","onClick","thingName","to","render","href","history","push","JSON","stringify","_ref","distance","duration","waypoints","setWaypoints","routesLibrary","directionService","setDirectionService","directionsRenderer","setDirectionsRenderer","routes","setRoutes","routeIndex","setRouteIndex","selected","leg","legs","DirectionsService","DirectionsRenderer","vehicleID","then","addresses","data","gettingPickupAddress","address","pickupAddress","stopover","catch","start","end","route","origin","destination","waypoint","travelMode","optimizeWaypoints","Response","setDirections","value","formattedDistance","toFixed","formattedDuration","color","_ref2","markerRef","current","window","google","maps","animateMarker","setMap","marker","newPosition","getPosition","LatLng","t","animate","newPos","setPosition","requestAnimationFrame"],"sources":["C:/Users/ASUS/Documents/GitHub/e19-3yp-School-Van-Tracking-System/code/webapplication/src/components/LocationTracking.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef, memo } from \"react\";\nimport { Route } from \"react-router-dom\";\n//import { gettVehicleSnap } from \"../services/snapService\";\nimport { gettingPickupaddresses } from \"../services/busService\";\nimport { triggerSnap } from \"../services/snapService\";\nimport io from \"socket.io-client\";\nimport {\n  APIProvider,\n  Map,\n  useMapsLibrary,\n  useMap,\n  Marker,\n} from \"@vis.gl/react-google-maps\";\n\nconst SocketClient = (props) => {\n  const { bus } = props.location.state || {}; // Add default value for destructuring\n  const [messages, setMessages] = useState([]);\n\n  useEffect(() => {\n    // Replace 'http://localhost:3001' with the URL where your Socket.IO server is running\n    const socket = io(\"http://13.51.79.199:3001\");\n\n    // Event handler for receiving messages from the server\n    socket.on(bus?.ThingName, (message) => {\n      //console.log(\"Received message from server:\", message);\n      setMessages((prevMessages) => [...prevMessages, message]);\n    });\n\n    // Event handler for connecting to the Socket.IO server\n    socket.on(\"connect\", () => {\n      console.log(\"Connected to Socket.IO server\");\n    });\n\n    // Event handler for potential errors\n    socket.on(\"error\", (error) => {\n      console.error(\"Socket.IO error:\", error);\n      // Handle the error as needed\n    });\n\n    // Cleanup on component unmount\n    return () => {\n      console.log(\"Disconnecting from Socket.IO server\");\n      socket.disconnect();\n    };\n  }, []); // Empty dependency array ensures that the effect runs only once\n\n  // Log the current state of messages whenever it changes\n  useEffect(() => {\n    //console.log(\"Current messages state:\", messages);\n  }, [messages]);\n\n  //export default function LocationTracking() {\n  const cent = { lat: 7.291418, lng: 80.636696 };\n\n  return (\n    <>\n      <div\n        style={{\n          height: \"80vh\",\n\n          marginLeft: \"30px\",\n          marginRight: \"30px\",\n        }}\n      >\n        <APIProvider apiKey=\"AIzaSyD3iZ52fsbEPy64MJPTVxJLlePde16xAMc\">\n          <Map\n            center={cent}\n            zoom={12}\n            mapId=\"5e1c67490bdc79a3\"\n            fullscreenControl={false}\n            //provideRouteAlternatives={true}\n          >\n            {messages.map((message, index) => (\n              <DynamicMarker\n                key={index}\n                position={{ lat: message?.latitude, lng: message?.longitude }}\n              />\n            ))}\n            {/* <AnimatedMarker positions={messages} /> */}\n            <div\n              className=\"card\"\n              style={{\n                margin: \"30px\",\n                marginTop: \"60px\",\n                marginLeft: \"10px\",\n                cornerRadius: \"0\",\n                padding: \"15px\",\n                borderRadius: \"0px\",\n                height: \"60px\",\n                width: \"300px\",\n                border: \"none\",\n                boxShadow: \"0px 0px 10px rgba(0, 0, 0, 0.1)\",\n                backgroundColor: \"#ffffff\",\n                transition: \"transform 0.2s, background-color 0.2s\",\n                fontWeight: \"bold\",\n              }}\n            >\n              <h1 style={{ fontSize: \"20px\" }}>\n                Current Speed:{\" \"}\n                <p1>{messages[messages.length - 1]?.speed} m/s</p1>\n              </h1>\n            </div>\n          </Map>\n          <div>\n            <Directions endAddress={bus?.SchoolAddress} bus={bus} />\n          </div>\n        </APIProvider>\n      </div>\n\n      {/* <div className=\"card\" style={{ width: \"200px\" }}>\n        <h1>Directions</h1>\n        <p1>Distance: {Directions(bus?.SchoolAddress)?.[0]}</p1>\n        <p1>Duration: {Directions(bus?.SchoolAddress)?.[1]}</p1>\n      </div> */}\n\n      <div\n        className=\"card\"\n        style={{\n          margin: \"30px\",\n          marginTop: \"30px\",\n          padding: \"15px\",\n          borderRadius: \"10px\",\n          height: \"155px\",\n          width: \"350px\",\n          border: \"none\",\n          boxShadow: \"0px 0px 10px rgba(0, 0, 0, 0.1)\",\n          backgroundColor: \"#ffffff\",\n          transition: \"transform 0.2s, background-color 0.2s\",\n          fontWeight: \"bold\",\n        }}\n      >\n        <h1>POSITION</h1>\n        <p1>Position X: {messages[messages.length - 1]?.angularX}</p1>\n        <p1>Position Y: {messages[messages.length - 1]?.angularY}</p1>\n        <p1>Position Z: {messages[messages.length - 1]?.angularZ}</p1>\n      </div>\n\n      <button\n        type=\"button\"\n        class=\"btn btn-warning\"\n        onClick={() => triggerSnap({ thingName: bus?.ThingName })}\n        style={{ marginLeft: \"30px\", marginTop: \"0px\", width: \"150px\" }}\n      >\n        Snap\n      </button>\n      <Route\n        to=\"/vehicleSnap\"\n        render={(props) => (\n          <a\n            href=\"/vehicleSnap\"\n            className=\"btn btn-warning\"\n            onClick={() => props.history.push(\"/vehicleSnap\", { bus })}\n            style={{ marginLeft: \"30px\", marginTop: \"0px\", width: \"150px\" }}\n          >\n            See Last Snap\n          </a>\n        )}\n      />\n      <div>\n        <h1>Received AWS IoT Messages:</h1>\n        <ul>\n          {messages.map((message, index) => (\n            <li key={index}>{JSON.stringify(message)}</li>\n          ))}\n        </ul>\n      </div>\n    </>\n  );\n};\n//};\n\nfunction Directions({ endAddress, bus }) {\n  const map = useMap();\n  let distance = 0;\n  let duration = 0;\n  const [waypoints, setWaypoints] = useState([]);\n  const routesLibrary = useMapsLibrary(\"routes\");\n  const [directionService, setDirectionService] = useState();\n  const [directionsRenderer, setDirectionsRenderer] = useState();\n  const [routes, setRoutes] = useState([]);\n  const [routeIndex, setRouteIndex] = useState(0);\n  const selected = routes[routeIndex];\n  const leg = selected?.legs[0];\n  //const pickUpAddresses = gettingPickupaddresses({ vehicleID: bus?.vehicleID });\n  //console.log(\"Selected legs are\", selected?.legs);\n  console.log(\"Routes are\", routes);\n\n  useEffect(() => {\n    if (!map || !routesLibrary) return;\n    setDirectionService(new routesLibrary.DirectionsService());\n    setDirectionsRenderer(new routesLibrary.DirectionsRenderer({ map }));\n  }, [map, routesLibrary]);\n\n  useEffect(() => {\n    // Fetch pickup addresses when the component mounts or when bus.vehicleID changes\n    gettingPickupaddresses({ vehicleID: bus?.vehicleID })\n      .then((addresses) => {\n        console.log(\"pickup addresses are\", addresses);\n        const waypoints = addresses?.data.gettingPickupAddress.map(\n          (address) => ({\n            location: address.pickupAddress,\n            stopover: true,\n          })\n        );\n        setWaypoints(waypoints);\n        //console.log(\"waypoints are\", waypoints);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching pickup addresses:\", error);\n      });\n  }, [bus?.vehicleID]);\n\n  useEffect(() => {\n    if (!directionService || !directionsRenderer) return;\n\n    const start = {\n      location:\n        \"University of Peradeniya, Prof. E. O. E. Pereira Mawatha, Kandy\",\n      stopover: true,\n    };\n    const end = { location: endAddress, stopover: true };\n\n    // //{ location: \"31, Colombo Road, Piliyandala 10300\", stopover: true }, // Origin\n    // {\n    //   location: \"Kingswood College, Randles Hill, Peradeniya Rd, Kandy 20000\",\n    //   stopover: true,\n    // }, // Second destination\n    // {\n    //   location: \"Sangaraja Mawatha, Kandy\",\n    //   stopover: true,\n    // }, // Second destination\n    // { location: \"DS Senanayake Veediya, Kandy 20000\", stopover: true },\n    // //{ location: \"Maradana Rd, Colombo 01000\", stopover: true }, // First destination\n    // // Add more waypoints with stopover: true for each\n    // let waypoints = [];\n\n    // for (let i = 0; i < pickUpAddresses?.length; i++) {\n    //   waypoints[i] = {\n    //     location: pickUpAddresses[i]?.pickupAddress,\n    //     stopover: true,\n    //   };\n    // }\n\n    console.log(\"waypoints are\", waypoints);\n\n    directionService\n      .route({\n        origin: start.location,\n        destination: end.location,\n        waypoints: waypoints.map((waypoint) => ({\n          location: waypoint.location,\n          stopover: waypoint.stopover,\n        })), // Exclude origin and destination from waypoints array\n        travelMode: \"DRIVING\",\n        //provideRouteAlternatives: true,\n        optimizeWaypoints: true,\n      })\n      .then((Response) => {\n        directionsRenderer.setDirections(Response);\n        //console.log(\"response is\", Response);\n        setRoutes(Response.routes);\n      });\n  }, [directionService, directionsRenderer, endAddress, waypoints]);\n\n  //console.log(\"directionService\", directionService);\n  //console.log(\"selected route is\", routes.selected);\n\n  if (!leg) return null;\n\n  {\n    selected?.legs.map((leg) => (distance += leg.distance.value));\n  }\n\n  {\n    selected?.legs.map((leg) => (duration += leg.duration.value));\n  }\n\n  const formattedDistance = (distance / 1000).toFixed(1);\n  const formattedDuration = (duration / 60).toFixed(0);\n\n  return (\n    <div\n      className=\"card\"\n      style={{\n        margin: \"30px\",\n        marginTop: \"30px\",\n        marginLeft: \"390px\",\n        marginRight: \"30px\",\n        padding: \"15px\",\n        borderRadius: \"10px\",\n        height: \"155px\",\n        width: \"875px\",\n        border: \"none\",\n        boxShadow: \"0px 0px 10px rgba(0, 0, 0, 0.1)\",\n        backgroundColor: \"#ffffff\",\n        transition: \"transform 0.2s, background-color 0.2s\",\n        fontWeight: \"bold\",\n        color: \"#000000\",\n      }}\n    >\n      <h1>Directions</h1>\n      <p1>Distance: {formattedDistance} KM</p1>\n      <p1>Duration: {formattedDuration} mins</p1>\n    </div>\n  );\n\n  //return [leg.distance.text, leg.duration.text];\n}\n\n// const DynamicMarker = ({ position }) => {\n//   const map = useMap();\n//   const markerRef = useRef(null);\n\n//   useEffect(() => {\n//     if (!map || !position) return;\n\n//     // Create marker if it doesn't exist\n//     if (!markerRef.current) {\n//       markerRef.current = new window.google.maps.Marker({\n//         position,\n//         map,\n//       });\n//     } else {\n//       // Update marker position if it exists\n//       markerRef.current.setPosition(position);\n//     }\n\n//     return () => {\n//       // Cleanup marker on unmount\n//       markerRef.current.setMap(null);\n//     };\n//   }, [map, position]);\n\n//   return null; // No need to render anything for the marker\n// };\n\n// const DynamicMarker = memo(({ position }) => {\n//   // Memoize the DynamicMarker component\n//   const map = useMap();\n//   const markerRef = useRef(null);\n\n//   useEffect(() => {\n//     if (!map || !position) return;\n\n//     // Create marker if it doesn't exist or update position\n//     if (!markerRef.current) {\n//       markerRef.current = new window.google.maps.Marker({\n//         position,\n//         map,\n//       });\n//     } else {\n//       markerRef.current.setPosition(position);\n//     }\n\n//     return () => {\n//       // Cleanup marker on unmount\n//       markerRef.current.setMap(null);\n//     };\n//   }, [map, position]); // Only re-run effect if map or position changes\n\n//   return null; // No need to render anything for the marker\n// });\n\nconst DynamicMarker = memo(({ position }) => {\n  const map = useMap();\n  const markerRef = useRef(null);\n\n  useEffect(() => {\n    if (!map || !position) return;\n\n    if (!markerRef.current) {\n      markerRef.current = new window.google.maps.Marker({\n        position,\n        map,\n      });\n    } else {\n      // Animate marker to new position\n      animateMarker(markerRef.current, position);\n    }\n\n    return () => {\n      markerRef.current.setMap(null);\n    };\n  }, [map, position]);\n\n  const animateMarker = (marker, newPosition) => {\n    const start = marker.getPosition();\n    const end = new window.google.maps.LatLng(newPosition.lat, newPosition.lng);\n    let t = 0;\n    const duration = 1000; // Animation duration in milliseconds\n\n    const animate = () => {\n      if (t < duration) {\n        const lat = start.lat() + ((end.lat() - start.lat()) * t) / duration;\n        const lng = start.lng() + ((end.lng() - start.lng()) * t) / duration;\n        const newPos = new window.google.maps.LatLng(lat, lng);\n        marker.setPosition(newPos);\n        t += 16; // 60 frames per second\n        requestAnimationFrame(animate);\n      } else {\n        marker.setPosition(end);\n      }\n    };\n\n    animate();\n  };\n\n  return null;\n});\n\n// const AnimatedMarker = ({ positions }) => {\n//   const map = useMap();\n//   const markerRef = useRef(null);\n\n//   useEffect(() => {\n//     if (!map || !positions || positions.length === 0) return;\n\n//     const lat = positions[positions.length - 1].latitude;\n//     const lng = positions[positions.length - 1].longitude;\n//     const lastPosition = { lat, lng };\n//     if (!markerRef.current) {\n//       markerRef.current = new window.L.Marker(lastPosition).addTo(map);\n//     } else {\n//       animateMarker(markerRef?.current, lastPosition);\n//     }\n\n//     return () => {\n//       markerRef.current.remove();\n//     };\n//   }, [map, positions]);\n\n//   const animateMarker = (marker, newPosition) => {\n//     const start = marker.getLatLng();\n//     const end = new window.L.LatLng(newPosition.lat, newPosition.lng);\n//     let t = 0;\n//     const duration = 1000; // Animation duration in milliseconds\n\n//     const animate = () => {\n//       if (t < duration) {\n//         const lat = start.lat + ((end.lat - start.lat) * t) / duration;\n//         const lng = start.lng + ((end.lng - start.lng) * t) / duration;\n//         const newPos = new window.L.LatLng(lat, lng);\n//         marker.setLatLng(newPos);\n//         t += 16; // 60 frames per second\n//         requestAnimationFrame(animate);\n//       } else {\n//         marker.setLatLng(end);\n//       }\n//     };\n\n//     animate();\n//   };\n\n//   return null;\n// };\n\nexport default SocketClient;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}