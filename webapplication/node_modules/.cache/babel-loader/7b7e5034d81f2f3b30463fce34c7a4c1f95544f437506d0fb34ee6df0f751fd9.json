{"ast":null,"code":"import React from\"react\";import Joi from\"joi-browser\";import Form from\"./common/form\";import{registerNewDriver}from\"../services/registerService\";import{getVehicles}from\"../services/registerService\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";class RegisterForm extends Form{constructor(){super(...arguments);this.state={data:{firstName:\"\",lastDName:\"\",userDname:\"\",password:\"\",contactDNumber:\"\",emailD:\"\",addressD:\"\",nicD:\"\",licensenumberD:\"\",assignedVehicle:\"\"},errors:{},successMessage:\"\",// New state variable for success message\nvehicles:[]};this.schema={firstName:Joi.string().required().label(\"First Name\"),lastDName:Joi.string().required().label(\"Last Name\"),userDname:Joi.string().required().label(\"Username\"),password:Joi.string().required().min(6).label(\"Password\"),contactDNumber:Joi.string().required().label(\"Contact Number\"),emailD:Joi.string().required().label(\"Email\"),addressD:Joi.string().required().label(\"Address\"),nicD:Joi.string().required().min(10).max(12).label(\"NIC\"),licensenumberD:Joi.string().required().label(\"License Number\"),assignedVehicle:Joi.string().required().label(\"AssignedVehicle\")};this.doSubmit=async()=>{try{const{data}=this.state;await registerNewDriver({firstName:data.firstName,lastDName:data.lastDName,userDname:data.userDname,password:data.password,contactDNumber:data.contactDNumber,emailD:data.emailD,addressD:data.addressD,nicD:data.nicD,licensenumberD:data.licensenumberD,assignedVehicle:data.assignedVehicle});// Optionally, you can redirect the user or perform other actions after the bus is successfully added.\nconsole.log(\"Driver added successfully!\");}catch(error){console.error(\"Error adding driver:\",error.message);}};}async componentDidMount(){const{data}=await getVehicles();this.setState({vehicles:data.registeredVehiclesWithoutDriver});}render(){return/*#__PURE__*/_jsx(\"div\",{className:\"card\",style:{margin:\"20px\",width:\"1287px\",padding:\"40px\",borderRadius:\"20px\",height:\"800px\",border:\"none\",boxShadow:\"0px 0px 10px rgba(0, 0, 0, 0.1)\",transition:\"transform 0.2s, background-color 0.2s\"},children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Register a new driver\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,children:[this.renderInput(\"firstName\",\"First Name\"),this.renderInput(\"lastDName\",\"Last Name\"),this.renderInput(\"userDname\",\"Username\"),this.renderInput(\"password\",\"Password\",\"password\"),this.renderInput(\"contactDNumber\",\"Contact Number\"),this.renderInput(\"emailD\",\"Email\"),this.renderInput(\"addressD\",\"Address\"),this.renderInput(\"nicD\",\"NIC\"),this.renderInput(\"licensenumberD\",\"License Number\"),\" \",/*#__PURE__*/_jsx(\"br\",{}),this.renderSelect(\"assignedVehicle\",\"Assigned Vehicle\",this.state.vehicles),\" \",/*#__PURE__*/_jsx(\"br\",{}),this.renderButton(\"Register\"),\" \",/*#__PURE__*/_jsx(\"br\",{})]})]})});}}export default RegisterForm;","map":{"version":3,"names":["React","Joi","Form","registerNewDriver","getVehicles","jsx","_jsx","jsxs","_jsxs","RegisterForm","constructor","arguments","state","data","firstName","lastDName","userDname","password","contactDNumber","emailD","addressD","nicD","licensenumberD","assignedVehicle","errors","successMessage","vehicles","schema","string","required","label","min","max","doSubmit","console","log","error","message","componentDidMount","setState","registeredVehiclesWithoutDriver","render","className","style","margin","width","padding","borderRadius","height","border","boxShadow","transition","children","onSubmit","handleSubmit","renderInput","renderSelect","renderButton"],"sources":["C:/Users/ASUS/Documents/GitHub/e19-3yp-School-Van-Tracking-System/code/webapplication/src/components/driverRegisterForm.jsx"],"sourcesContent":["import React from \"react\";\nimport Joi from \"joi-browser\";\nimport Form from \"./common/form\";\nimport { registerNewDriver } from \"../services/registerService\";\nimport { getVehicles } from \"../services/registerService\";\n\nclass RegisterForm extends Form {\n  state = {\n    data: {\n      firstName: \"\",\n      lastDName: \"\",\n      userDname: \"\",\n      password: \"\",\n      contactDNumber: \"\",\n      emailD: \"\",\n      addressD: \"\",\n      nicD: \"\",\n      licensenumberD: \"\",\n      assignedVehicle: \"\",\n    },\n    errors: {},\n    successMessage: \"\", // New state variable for success message\n    vehicles: [],\n  };\n\n  schema = {\n    firstName: Joi.string().required().label(\"First Name\"),\n    lastDName: Joi.string().required().label(\"Last Name\"),\n    userDname: Joi.string().required().label(\"Username\"),\n    password: Joi.string().required().min(6).label(\"Password\"),\n    contactDNumber: Joi.string().required().label(\"Contact Number\"),\n    emailD: Joi.string().required().label(\"Email\"),\n    addressD: Joi.string().required().label(\"Address\"),\n    nicD: Joi.string().required().min(10).max(12).label(\"NIC\"),\n    licensenumberD: Joi.string().required().label(\"License Number\"),\n    assignedVehicle: Joi.string().required().label(\"AssignedVehicle\"),\n  };\n\n  async componentDidMount() {\n    const { data } = await getVehicles();\n    this.setState({ vehicles: data.registeredVehiclesWithoutDriver });\n  }\n\n  doSubmit = async () => {\n    try {\n      const { data } = this.state;\n      await registerNewDriver({\n        firstName: data.firstName,\n        lastDName: data.lastDName,\n        userDname: data.userDname,\n        password: data.password,\n        contactDNumber: data.contactDNumber,\n        emailD: data.emailD,\n        addressD: data.addressD,\n        nicD: data.nicD,\n        licensenumberD: data.licensenumberD,\n        assignedVehicle: data.assignedVehicle,\n      });\n      // Optionally, you can redirect the user or perform other actions after the bus is successfully added.\n      console.log(\"Driver added successfully!\");\n    } catch (error) {\n      console.error(\"Error adding driver:\", error.message);\n    }\n  };\n\n  render() {\n    return (\n      <div\n        className=\"card\"\n        style={{\n          margin: \"20px\",\n\n          width: \"1287px\",\n          padding: \"40px\",\n          borderRadius: \"20px\",\n          height: \"800px\",\n          border: \"none\",\n          boxShadow: \"0px 0px 10px rgba(0, 0, 0, 0.1)\",\n          transition: \"transform 0.2s, background-color 0.2s\",\n        }}\n      >\n        <div>\n          <h1>Register a new driver</h1>\n          <form onSubmit={this.handleSubmit}>\n            {this.renderInput(\"firstName\", \"First Name\")}\n            {this.renderInput(\"lastDName\", \"Last Name\")}\n            {this.renderInput(\"userDname\", \"Username\")}\n            {this.renderInput(\"password\", \"Password\", \"password\")}\n            {this.renderInput(\"contactDNumber\", \"Contact Number\")}\n            {this.renderInput(\"emailD\", \"Email\")}\n            {this.renderInput(\"addressD\", \"Address\")}\n            {this.renderInput(\"nicD\", \"NIC\")}\n            {this.renderInput(\"licensenumberD\", \"License Number\")} <br />\n            {/* {this.renderInput(\"licensenumberD\", \"License Number\")} <br /> */}\n            {this.renderSelect(\n              \"assignedVehicle\",\n              \"Assigned Vehicle\",\n              this.state.vehicles\n            )}{\" \"}\n            <br />\n            {this.renderButton(\"Register\")} <br />\n            {/* {this.renderSelect(\"genreId\", \"Genre\", this.state.bu)} */}\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default RegisterForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}