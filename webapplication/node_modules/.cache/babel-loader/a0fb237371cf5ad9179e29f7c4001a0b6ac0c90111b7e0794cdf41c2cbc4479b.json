{"ast":null,"code":"import React from\"react\";import Joi from\"joi-browser\";import Form from\"./common/form\";import{verify}from\"../services/signUpService\";import{Link,withRouter}from\"react-router-dom\";import\"./login.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";class verifyForm extends Form{constructor(){super(...arguments);this.state={data:{username:\"\",password:\"\",verificationCode:\"\"},errors:{},successMessage:\"\"};this.schema={username:Joi.string().required().label(\"Username\"),password:Joi.string().required().label(\"Password\"),verificationCode:Joi.string().required().label(\"Verification Code\")};this.doSubmit=async()=>{try{const{data}=this.state;await verify({username:data.username,password:data.password,verificationCode:data.verificationCode});// Optionally, you can redirect the user or perform other actions after the bus is successfully added.\nconsole.log(\"User verified successfully!\");this.props.history.push(\"/loginForm\");}catch(error){console.error(\"Error verifying user:\",error.message);}};}render(){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"login-form\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Verify\"}),this.renderInput(\"username\",\"Username\"),this.renderInput(\"password\",\"Password\",\"password\"),this.renderInput(\"verificationCode\",\"Verification Code\"),\" \",/*#__PURE__*/_jsx(\"br\",{}),this.renderButton(\"Verify\"),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"p1\",{children:[\" \",\"Already have an account?\",/*#__PURE__*/_jsx(Link,{to:\"/loginForm\",children:\" Login\"})]})]})})})});}}export default withRouter(verifyForm);","map":{"version":3,"names":["React","Joi","Form","verify","Link","withRouter","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","verifyForm","constructor","arguments","state","data","username","password","verificationCode","errors","successMessage","schema","string","required","label","doSubmit","console","log","props","history","push","error","message","render","children","className","onSubmit","handleSubmit","renderInput","renderButton","to"],"sources":["C:/Users/ASUS/Documents/GitHub/e19-3yp-School-Van-Tracking-System/code/webapplication/src/components/verify.jsx"],"sourcesContent":["import React from \"react\";\nimport Joi from \"joi-browser\";\nimport Form from \"./common/form\";\nimport { verify } from \"../services/signUpService\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport \"./login.css\";\n\nclass verifyForm extends Form {\n  state = {\n    data: {\n      username: \"\",\n      password: \"\",\n      verificationCode: \"\",\n    },\n    errors: {},\n    successMessage: \"\",\n  };\n\n  schema = {\n    username: Joi.string().required().label(\"Username\"),\n    password: Joi.string().required().label(\"Password\"),\n    verificationCode: Joi.string().required().label(\"Verification Code\"),\n  };\n\n  doSubmit = async () => {\n    try {\n      const { data } = this.state;\n      await verify({\n        username: data.username,\n        password: data.password,\n        verificationCode: data.verificationCode,\n      });\n      // Optionally, you can redirect the user or perform other actions after the bus is successfully added.\n      console.log(\"User verified successfully!\");\n      this.props.history.push(\"/loginForm\");\n    } catch (error) {\n      console.error(\"Error verifying user:\", error.message);\n    }\n  };\n\n  render() {\n    return (\n      <>\n        <div className=\"login-container\">\n          <div className=\"login-form\">\n            <form onSubmit={this.handleSubmit}>\n              <h1>Verify</h1>\n              {this.renderInput(\"username\", \"Username\")}\n              {this.renderInput(\"password\", \"Password\", \"password\")}\n              {this.renderInput(\"verificationCode\", \"Verification Code\")} <br />\n              {this.renderButton(\"Verify\")} <br />\n              <p1>\n                {\" \"}\n                Already have an account?\n                <Link to=\"/loginForm\"> Login</Link>\n              </p1>\n            </form>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default withRouter(verifyForm);\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,GAAG,KAAM,aAAa,CAC7B,MAAO,CAAAC,IAAI,KAAM,eAAe,CAChC,OAASC,MAAM,KAAQ,2BAA2B,CAClD,OAASC,IAAI,CAAEC,UAAU,KAAQ,kBAAkB,CACnD,MAAO,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAErB,KAAM,CAAAC,UAAU,QAAS,CAAAV,IAAK,CAAAW,YAAA,WAAAC,SAAA,OAC5BC,KAAK,CAAG,CACNC,IAAI,CAAE,CACJC,QAAQ,CAAE,EAAE,CACZC,QAAQ,CAAE,EAAE,CACZC,gBAAgB,CAAE,EACpB,CAAC,CACDC,MAAM,CAAE,CAAC,CAAC,CACVC,cAAc,CAAE,EAClB,CAAC,MAEDC,MAAM,CAAG,CACPL,QAAQ,CAAEhB,GAAG,CAACsB,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAACC,KAAK,CAAC,UAAU,CAAC,CACnDP,QAAQ,CAAEjB,GAAG,CAACsB,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAACC,KAAK,CAAC,UAAU,CAAC,CACnDN,gBAAgB,CAAElB,GAAG,CAACsB,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAACC,KAAK,CAAC,mBAAmB,CACrE,CAAC,MAEDC,QAAQ,CAAG,SAAY,CACrB,GAAI,CACF,KAAM,CAAEV,IAAK,CAAC,CAAG,IAAI,CAACD,KAAK,CAC3B,KAAM,CAAAZ,MAAM,CAAC,CACXc,QAAQ,CAAED,IAAI,CAACC,QAAQ,CACvBC,QAAQ,CAAEF,IAAI,CAACE,QAAQ,CACvBC,gBAAgB,CAAEH,IAAI,CAACG,gBACzB,CAAC,CAAC,CACF;AACAQ,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC,CAC1C,IAAI,CAACC,KAAK,CAACC,OAAO,CAACC,IAAI,CAAC,YAAY,CAAC,CACvC,CAAE,MAAOC,KAAK,CAAE,CACdL,OAAO,CAACK,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAACC,OAAO,CAAC,CACvD,CACF,CAAC,EAEDC,MAAMA,CAAA,CAAG,CACP,mBACE3B,IAAA,CAAAI,SAAA,EAAAwB,QAAA,cACE5B,IAAA,QAAK6B,SAAS,CAAC,iBAAiB,CAAAD,QAAA,cAC9B5B,IAAA,QAAK6B,SAAS,CAAC,YAAY,CAAAD,QAAA,cACzB1B,KAAA,SAAM4B,QAAQ,CAAE,IAAI,CAACC,YAAa,CAAAH,QAAA,eAChC5B,IAAA,OAAA4B,QAAA,CAAI,QAAM,CAAI,CAAC,CACd,IAAI,CAACI,WAAW,CAAC,UAAU,CAAE,UAAU,CAAC,CACxC,IAAI,CAACA,WAAW,CAAC,UAAU,CAAE,UAAU,CAAE,UAAU,CAAC,CACpD,IAAI,CAACA,WAAW,CAAC,kBAAkB,CAAE,mBAAmB,CAAC,CAAC,GAAC,cAAAhC,IAAA,QAAK,CAAC,CACjE,IAAI,CAACiC,YAAY,CAAC,QAAQ,CAAC,CAAC,GAAC,cAAAjC,IAAA,QAAK,CAAC,cACpCE,KAAA,OAAA0B,QAAA,EACG,GAAG,CAAC,0BAEL,cAAA5B,IAAA,CAACH,IAAI,EAACqC,EAAE,CAAC,YAAY,CAAAN,QAAA,CAAC,QAAM,CAAM,CAAC,EACjC,CAAC,EACD,CAAC,CACJ,CAAC,CACH,CAAC,CACN,CAAC,CAEP,CACF,CAEA,cAAe,CAAA9B,UAAU,CAACO,UAAU,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}